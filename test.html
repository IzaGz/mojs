<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>mo Â· js</title>
    <link rel="stylesheet" type="text/css" href="css/main.css">
  </head>
  <body>

    <style>
      body, html {
        height: 100%;
      }
      /*div {
        outline: 1px solid red;
      }*/
      .el {
        position: absolute;
        top: 50%;
        width: 100px;
        height: 100px;
        margin-top: -50px;
        border-radius: 10%;
        background: cyan;
      }
    </style>

    <div class="el" id="js-el"></div>

    <script src="vendor/lodash.min.js"></script>
    <script src="vendor/platform.js"></script>
    <script src="vendor/benchmark.js"></script>

    <!-- <script src="node_modules/mojs-player/build/mojs-player.js"></script> -->
    <!-- <script src="http://cdn.jsdelivr.net/mojs/latest/mo.min.js"></script> -->
    <!-- <script src="vendor/mo-js/build/mo.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/mojs/0.288.1/mo.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script> -->
    <script src="build/mo.js"></script>

    <button id="js-play">play</button>
    <button id="js-pause">pause</button>
    <!-- <button id="js-stop">stop</button> -->
    <button id="js-reverse">reverse</button>

    <script>
      var el = document.querySelector('#js-el');
      var playBtn = document.querySelector('#js-play');
      var pauseBtn = document.querySelector('#js-pause');
      var reverseBtn = document.querySelector('#js-reverse');

      var prevP = 0;
      const tween = new mojs.Tween({
        // delay: 30,
        duration: 70,
        // speed: 2,
        isPeriodReverse: [true, true, false],
        // isReverse: true,
        repeat: 2,
        onUpdate(ep, p, isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tween update]`, ep, ep - prevP);
          prevP = ep;
        },
        onChimeIn(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tween chime in]`);
        },
        onChimeOut(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tween chime out]`);
        },
        onStart(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tween start]`);
        },
        onRepeatStart(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tweennie repeat start]: ${index} -=-=-=-=-=-=-=-=-=-=-=-=-`);
        },
        onRepeatComplete(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tweennie repeat complete]: ${index} -=-=-=-=-=-=-=-=-=-=-=-=-`);
        },
        onRepeatChimeIn(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tweennie repeat chime in]: ${index} -=-=-=-=-=-=-=-=-=-=-=-=-`);
        },
        onRepeatChimeOut(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tweennie repeat chime out]: ${index} -=-=-=-=-=-=-=-=-=-=-=-=-`);
        },
        onComplete(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tween complete]`);
        },
        onChimeIn(isForward, isReverse, index) {
          console.log(`{${index === void 0 ? '' : index}}, [tween chime in]`);
        }
      });

      playBtn.addEventListener('click', function() {
        console.log('::: play click');
        console.time('start');
        tween.play();
      });

      pauseBtn.addEventListener('click', function() {
        console.log('::: pause click');
        tween.pause();
      });

      reverseBtn.addEventListener('click', function() {
        console.log('::: revert click');

        tween.pause()
             .reverse()
             .play();
      });
    </script>

  </body>
</html>
